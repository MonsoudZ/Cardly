<%# locals: (message:, current_user:) %>
<div class="flex <%= message.sender == current_user ? 'justify-end' : 'justify-start' %>" id="<%= dom_id(message) %>">
  <div class="max-w-[80%] <%= message.sender == current_user ? 'bg-rose-600 text-white' : 'bg-gray-100 text-gray-900' %> rounded-2xl px-4 py-2 <%= message.sender == current_user ? 'rounded-br-md' : 'rounded-bl-md' %>">
    <% unless message.sender == current_user %>
      <p class="text-xs font-medium text-gray-500 mb-1"><%= message.sender.display_name %></p>
    <% end %>
    <p class="text-sm whitespace-pre-wrap"><%= message.body %></p>
    <p class="text-xs mt-1 <%= message.sender == current_user ? 'text-rose-200' : 'text-gray-400' %>">
      <%= message.created_at.strftime("%b %d, %I:%M %p") %>
    </p>
  </div>
</div>
