<%#
  Badge Component

  Usage:
    <%= render 'shared/components/badge', text: 'New' %>
    <%= render 'shared/components/badge', text: 'Active', variant: :success %>
    <%= render 'shared/components/badge', text: '5', variant: :primary, size: :sm, pill: true %>
    <%= render 'shared/components/badge', text: 'Pro', variant: :secondary, dot: true %>

  Options:
    - text: Badge text (required)
    - variant: :neutral (default), :primary, :secondary, :success, :warning, :danger
    - size: :sm, :md (default), :lg
    - pill: true/false (default: false) - fully rounded
    - dot: true/false (default: false) - show status dot
    - outline: true/false (default: false) - outline style
%>

<%
  text ||= ''
  variant ||= :neutral
  size ||= :md
  pill ||= false
  dot ||= false
  outline ||= false
  html_class ||= ''

  variant_styles = {
    neutral: {
      solid: 'bg-neutral-100 text-neutral-700',
      outline: 'bg-transparent border border-neutral-300 text-neutral-700',
      dot: 'bg-neutral-500'
    },
    primary: {
      solid: 'bg-primary-100 text-primary-700',
      outline: 'bg-transparent border border-primary-300 text-primary-700',
      dot: 'bg-primary-500'
    },
    secondary: {
      solid: 'bg-secondary-100 text-secondary-700',
      outline: 'bg-transparent border border-secondary-300 text-secondary-700',
      dot: 'bg-secondary-500'
    },
    success: {
      solid: 'bg-success-100 text-success-700',
      outline: 'bg-transparent border border-success-300 text-success-700',
      dot: 'bg-success-500'
    },
    warning: {
      solid: 'bg-warning-100 text-warning-700',
      outline: 'bg-transparent border border-warning-300 text-warning-700',
      dot: 'bg-warning-500'
    },
    danger: {
      solid: 'bg-danger-100 text-danger-700',
      outline: 'bg-transparent border border-danger-300 text-danger-700',
      dot: 'bg-danger-500'
    }
  }

  size_classes = {
    sm: 'px-2 py-0.5 text-xs',
    md: 'px-2.5 py-0.5 text-sm',
    lg: 'px-3 py-1 text-sm'
  }

  styles = variant_styles[variant]
  color_class = outline ? styles[:outline] : styles[:solid]
  rounded_class = pill ? 'rounded-pill' : 'rounded-button'

  classes = "inline-flex items-center font-medium #{color_class} #{size_classes[size]} #{rounded_class} #{html_class}"
%>

<span class="<%= classes %>">
  <% if dot %>
    <span class="w-1.5 h-1.5 rounded-full <%= styles[:dot] %> mr-1.5"></span>
  <% end %>
  <%= text %>
</span>
